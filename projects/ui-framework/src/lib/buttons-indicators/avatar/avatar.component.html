<div class="avatar"
     [ngClass]="'avatar-' + getSizeClass(size) +
                (isClickable && !disabled ? ' clickable' : '') +
                (disabled ? ' disabled' : '') +
                (imageSource && imageSource.includes('emptyAvatar')
                ? ' emptyAvatar' : '')"
     [ngStyle]="{ backgroundImage: imageSource ? 'url(' +  imageSource + ')' : null, backgroundColor: backgroundColor }"
     (click)="onClick($event)">

  <b-icon *ngIf="badge && size !== avatarSize.mini"
          class="avatar-badge"
          [icon]="badges[badge].icon"
          [size]="badgeSize[getSizeClass(size)]"
          [color]="badges[badge].color">
  </b-icon>

  <div class="avatar-content"
       #content
       *ngIf="hasContent">
    <ng-content></ng-content>
  </div>
</div>

<div *ngIf="title || subtitle"
     class="avatar-title"
     [ngClass]="'avatar-title-' + getSizeClass(size) + (disabled ? ' disabled' : '')">

  <h4 b-truncate-tooltip
      *ngIf="title"
      class="name">
    {{title}}
  </h4>

  <p b-truncate-tooltip
     *ngIf="subtitle"
     class="job">
    {{subtitle}}
  </p>

  <p class="department"
     *ngIf="status && size === avatarSize.large">
    {{ department }}
  </p>

  <b-chip *ngIf="status && size !== avatarSize.mini && size !== avatarSize.small"
          [type]="disabled ? chipType.disabled : status.type"
          [text]="status.text"
          class="status">
  </b-chip>

</div>
