<ul class="steps"
    [ngClass]="{
                'steps-circles': (isMobile && type === breadcrumbsType.primary) || type ===
                breadcrumbsType.secondary
              }">

  <li *ngFor="let step of steps; let i = index; trackBy: stepsTrackBy"
      class="step"
      [attr.data-state]="stepState(step)"
      [attr.role]="step.state === stepStates.open ? 'button' : null"
      (click.outside-zone)="step.state === stepStates.open && goToStep(i)">

    <span *ngIf="!isMobile && type === breadcrumbsType.primary"
          class="step-index"
          [attr.data-tooltip]="!showTitle(step, i) ? step.title : null">
      {{ i + 1 }}
    </span>

    <span class="step-title"
          [ngClass]="{
            invisible: isMobile || !showTitle(step, i),
            'b-bold-body': type === breadcrumbsType.primary,
            'b-big-body': type === breadcrumbsType.vertical
          }">
      {{step.title}}
    </span>

  </li>

</ul>

<div *ngIf="type !== breadcrumbsType.vertical && (buttons?.backBtn?.isVisible || buttons?.nextBtn?.isVisible)"
     class="buttons">

  <ng-container *ngIf="!isMobile">
    <b-button *ngIf="buttons?.backBtn?.isVisible"
              (clicked)="goToStep(activeStep - 1)"
              [size]="buttonSize.medium"
              [type]="buttonType.secondary"
              [text]="buttons?.backBtn?.label"
              [disabled]="buttonDisabled(0)"
              [hidden]="buttonHidden(0)">
    </b-button>

    <b-button *ngIf="buttons?.nextBtn?.isVisible"
              (clicked)="goToStep(activeStep + 1)"
              [size]="buttonSize.medium"
              [type]="buttonType.primary"
              [text]="buttons?.nextBtn?.label"
              [disabled]="buttonDisabled(steps.length - 1)"
              [hidden]="buttonHidden(steps.length - 1)">
    </b-button>
  </ng-container>

  <ng-container *ngIf="isMobile">
    <b-text-button *ngIf="buttons?.backBtn?.isVisible"
                   (clicked)="goToStep(activeStep - 1)"
                   [text]="buttons?.backBtn?.label"
                   [disabled]="buttonDisabled(0)"
                   [hidden]="buttonHidden(0)">
    </b-text-button>

    <b-text-button *ngIf="buttons?.nextBtn?.isVisible"
                   [color]="linkColor.primary"
                   (clicked)="goToStep(activeStep + 1)"
                   [text]="buttons?.nextBtn?.label"
                   [disabled]="buttonDisabled(steps.length - 1)"
                   [hidden]="buttonHidden(steps.length - 1)">
    </b-text-button>
  </ng-container>

</div>
