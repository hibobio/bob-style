.b-icon,
[class*='b-icon'] {
  display: flex;
  align-items: center;
  @include b-icon(null, large, dark);
}

[data-icon-before]:before,
[data-icon-after]:after {
  @include b-icon(null, large, dark, $elem: '&');
}

@each $sizeKey, $size in $icon-sizes {
  .b-icon-#{$sizeKey} {
    @include icon-size($sizeKey);
  }
  [data-icon-before-size='#{$sizeKey}']:before,
  [data-icon-after-size='#{$sizeKey}']:after {
    @include icon-size($sizeKey, $elem: '&');
  }
}

[data-icon-before-size='custom']:before {
  @include icon-size(var(--icon-before-size), $elem: '&');
}
[data-icon-after-size='custom']:after {
  @include icon-size(var(--icon-after-size), $elem: '&');
}

@each $colorKey, $colors in $icon-colors {
  .b-icon-#{'' + $colorKey} {
    @include icon-color($colorKey, true);
  }
  [data-icon-before-color='#{$colorKey}'] {
    @include icon-color($colorKey, true, $elem: '&:before');
  }
  [data-icon-after-color='#{$colorKey}'] {
    @include icon-color($colorKey, true, $elem: '&:after');
  }
}

[data-icon-before-color='custom'] {
  @include icon-color(var(--icon-before-color), false, $elem: '&:before');
  .has-hover:hover &,
  .has-hover:focus &,
  &.has-hover:hover,
  &.has-hover:focus {
    &:before {
      filter: brightness(0.8);
    }
  }
}
[data-icon-after-color='custom'] {
  @include icon-color(var(--icon-after-color), false, $elem: '&:after');
  .has-hover:hover &,
  .has-hover:focus &,
  &.has-hover:hover,
  &.has-hover:focus {
    &:after {
      filter: brightness(0.8);
    }
  }
}

@each $icon, $char in $icon-chars {
  [data-icon-before='#{$icon}']:before,
  [data-icon-after='#{$icon}']:after {
    content: $char;
  }
}

[data-icon-before-rotate='90']:before,
[data-icon-after-rotate='90']:after {
  transform: rotate(90deg);
}

[data-icon-before-rotate='180']:before,
[data-icon-after-rotate='180']:after {
  transform: rotate(180deg);
}

[data-icon-before-rotate='-90']:before,
[data-icon-after-rotate='-90']:after {
  transform: rotate(-90deg);
}
