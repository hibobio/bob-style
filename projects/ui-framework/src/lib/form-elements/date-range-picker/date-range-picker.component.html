<div class="bfe-label-wrap">
  <label *ngIf="(label || startDateLabel) && !hideLabelOnFocus"
         class="bfe-label start-date-label"
         [attr.for]="idSD">{{startDateLabel || label}}</label>

  <label *ngIf="!label && endDateLabel && !hideLabelOnFocus"
         class="bfe-label end-date-label"
         [attr.for]="idED">{{endDateLabel}}</label>
</div>

<div class="bfe-wrap"
     [ngClass]="{focused: inputFocused}">

  <input #startDateInput
         data-index="0"
         class="bfe-input start-date-input"
         [attr.id]="idSD"
         [attr.name]="idSD"
         [type]="inputTypes.text"
         [attr.placeholder]="hideLabelOnFocus && (startDateLabel || label) ? (!required ? (startDateLabel || label) :
         (startDateLabel || label) + '*') :
         placeholder"
         [value]="startDate"
         [disabled]="disabled"
         [required]="required"
         (focus)="startDateInput.select();startDatePicker.open();inputFocused = true"
         (blur)="startDatePicker.opened ? startDateInput.focus() : inputFocused = false"
         (dateChange)="onStartDateChange($event.value)"
         [matDatepicker]="startDatePicker"
         [min]="minDate || null"
         [max]="endDate || maxDate || null">

  <input #endDateInput
         data-index="1"
         class="bfe-input end-date-input"
         [attr.id]="idED"
         [attr.name]="idED"
         [type]="inputTypes.text"
         [attr.placeholder]="hideLabelOnFocus && (endDateLabel || label) ? (!required ? ((label && null) ||
         endDateLabel) : ((label && ' ') || endDateLabel + '*')) :
         placeholder"
         [value]="endDate"
         [disabled]="disabled"
         [required]="required"
         (focus)="endDateInput.select();endDatePicker.open();inputFocused = true"
         (blur)="endDatePicker.opened ? endDateInput.focus() : inputFocused = false"
         (dateChange)="onEndDateChange($event.value)"
         [matDatepicker]="endDatePicker"
         [min]="startDate || minDate || null"
         [max]="maxDate || null">


</div>

<mat-datepicker #startDatePicker
                [disabled]="disabled"
                [touchUi]="isMobile"
                [panelClass]="'b-datepicker-panel start-date-picker'">
</mat-datepicker>
<mat-datepicker #endDatePicker
                [disabled]="disabled"
                [touchUi]="isMobile"
                [panelClass]="'b-datepicker-panel end-date-picker'">
</mat-datepicker>

<p b-input-message
   *ngIf="hintMessage || warnMessage || errorMessage"
   [hintMessage]="hintMessage"
   [warnMessage]="warnMessage"
   [errorMessage]="errorMessage"
   [disabled]="disabled"></p>
