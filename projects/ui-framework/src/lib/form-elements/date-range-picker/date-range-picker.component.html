<div class="bfe-label-wrap">
  <label *ngIf="(label || startDateLabel) && !hideLabelOnFocus"
         class="bfe-label start-date-label"
         [attr.for]="idSD">{{startDateLabel || label}}</label>

  <label *ngIf="!label && endDateLabel && !hideLabelOnFocus"
         class="bfe-label end-date-label"
         [attr.for]="idED">{{endDateLabel}}</label>
</div>

<div class="bfe-wrap"
     #inputWrap
     [ngClass]="{focused: inputFocused}">

  <input class="bfe-input start-date-input"
         [readonly]="!allowKeyInput"
         maxlength="10"
         autocomplete="off"
         [attr.id]="idSD"
         [attr.name]="idSD"
         [type]="inputTypes.text"
         [attr.placeholder]="hideLabelOnFocus && (startDateLabel || label) ? (!required ? (startDateLabel || label) :
         (startDateLabel || label) + '*') :
         placeholder"
         [value]="startDate"
         [disabled]="disabled"
         [required]="required"
         (click)="openPicker(0)"
         (focus)="onInputFocus(0)"
         (blur)="onInputBlur(0)"
         (keydown.outside-zone)="onInputKeydown(0, $event)"
         (input.outside-zone)="onInputChange(0, $event)"
         (dateChange)="onStartDateChange($event.value)"
         [matDatepicker]="startDatePicker"
         [min]="minDate || null"
         [max]="endDate || maxDate || null">

  <input class="bfe-input end-date-input"
         [readonly]="!allowKeyInput"
         maxlength="10"
         autocomplete="off"
         [attr.id]="idED"
         [attr.name]="idED"
         [type]="inputTypes.text"
         [attr.placeholder]="hideLabelOnFocus && (endDateLabel || label) ? (!required ? ((label && null) ||
         endDateLabel) : ((label && ' ') || endDateLabel + '*')) :
         placeholder"
         [value]="endDate"
         [disabled]="disabled"
         [required]="required"
         (click)="openPicker(1)"
         (focus)="onInputFocus(1)"
         (blur)="onInputBlur(1)"
         (keydown.outside-zone)="onInputKeydown(1, $event)"
         (input.outside-zone)="onInputChange(1, $event)"
         (dateChange)="onEndDateChange($event.value)"
         [matDatepicker]="endDatePicker"
         [min]="startDate || minDate || null"
         [max]="maxDate || null">
</div>

<mat-datepicker #startDatePicker
                [disabled]="disabled"
                [touchUi]="isMobile"
                [panelClass]="'b-datepicker-panel start-date-picker'"
                [dateClass]="getDateClass"
                (opened)="onPickerOpen(0)"
                (closed)="onPickerClose(0)">
</mat-datepicker>
<mat-datepicker #endDatePicker
                [disabled]="disabled"
                [touchUi]="isMobile"
                [panelClass]="'b-datepicker-panel end-date-picker'"
                [dateClass]="getDateClass"
                (opened)="onPickerOpen(1)"
                (closed)="onPickerClose(1)">
</mat-datepicker>

<p b-input-message
   *ngIf="hintMessage || warnMessage || errorMessage"
   [hintMessage]="hintMessage"
   [warnMessage]="warnMessage"
   [errorMessage]="errorMessage"
   [disabled]="disabled"></p>
