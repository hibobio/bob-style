@import '../../style/common-imports';
@import '../../avatar/avatar/avatar.mixin';

@include bFormElement();

@include clear-input-suffix('&.focused');

.bfe-wrap {
  position: relative;

  &.panel-open {
    &.panel-below {
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
    }
    &.panel-above {
      border-top-right-radius: 0;
      border-top-left-radius: 0;
    }
  }
}

.bfe-wrap.focused .bfe-input::placeholder,
.bfe-input:focus::placeholder {
  opacity: 1;
}

.bfe-wrap.hide-clear .clear-input {
  opacity: 0;
}

.color-circle {
  border-radius: 50%;
  box-shadow: inset 0 0 0 1px var(--circle-border-color, $border-color);
  @include size(map-get($avatarSizes, mini)-4px);
  margin-left: -8px;
  pointer-events: none;
}

:host[data-size='smaller'] .color-circle {
  @include size(map-get($avatarSizes, micro));
}

.default-value {
  box-shadow: none;
  background-image: linear-gradient($grey-700, $grey-700),
    linear-gradient($negative-600, $negative-600),
    linear-gradient(#d38865, #d38865), linear-gradient(#7d273f, #7d273f);
  background-size: 50% 50%;
  background-position: left top, right top, left bottom, right bottom;
  background-repeat: no-repeat;
}

::ng-deep {
  .cdk-overlay-container .color-picker-dropdown {
    color-picker {
      display: block;
    }

    .saturation-lightness {
      box-shadow: black(0.3) -1px 0px 0px 0px, black(0.6) 1px 0px 0px 0px;
    }

    .saturation-lightness .cursor {
      border-color: var(--cursor-border-color, $grey-800);
    }

    .selected-color {
      border-color: var(--circle-border-color, $border-color);
    }

    .color-picker {
      border: none;
      border-radius: $border-radius;
      margin: 0 auto;
      @include b-body($addCssVars: false);
    }

    .type-policy {
      display: none;
    }

    .hue-alpha .hue {
      border-radius: $border-radius;
    }

    .hex-text {
      input {
        border-radius: $border-radius;
      }

      .box div {
        display: none !important;
      }
    }
  }
}
