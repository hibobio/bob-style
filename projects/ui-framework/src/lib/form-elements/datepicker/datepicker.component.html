<label *ngIf="label"
       class="bfe-label"
       [attr.for]="id">{{label}}</label>

<div class="bfe-wrap has-suffix"
     [ngClass]="{focused: inputFocused}">

  <input #bInput
         class="bfe-input"
         [attr.id]="id"
         [attr.name]="id"
         [type]="inputTypes.text"
         [attr.placeholder]="placeholder"
         [value]="value"
         [attr.value]="value"
         [disabled]="disabled"
         [required]="required"
         (focus)="picker.open();inputFocused = true"
         (blur)="picker.opened ? bInput.focus() : inputFocused = false"
         (dateChange)="onDateChange($event.value)"
         [matDatepicker]="picker">

  <b-icon class="bfe-suffix"
          (click)="picker.open()"
          [icon]="calendarIcon"
          [color]="calendarIconColor"
          [size]="calendarIconSize">
  </b-icon>

</div>

<mat-datepicker #picker
                [disabled]="disabled"
                (opened)="bInput.focus();inputFocused = true;"
                (closed)="bInput.blur();inputFocused = false;"
                [dateClass]="dateClass">
</mat-datepicker>

<p b-input-message
   *ngIf="hintMessage || warnMessage || errorMessage"
   [hintMessage]="hintMessage"
   [warnMessage]="warnMessage"
   [errorMessage]="errorMessage"
   [disabled]="disabled"></p>
