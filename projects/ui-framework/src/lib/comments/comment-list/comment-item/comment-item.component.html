<b-avatar-image [size]="avatarSize.mini"
                [imageSource]="comment?.avatar"
                [matTooltip]="comment?.name"></b-avatar-image>

<div class="text-section b-body">
  <div class="comment-menu"
       [class.focused]="menuOpen">
    <b-menu class="card-menu"
            *ngIf="comment?.menuConfig?.length > 0"
            [menu]="comment.menuConfig"
            (click.outside-zone)="$event.stopPropagation()"
            (openMenu)="menuOpen = true"
            (closeMenu)="closeMenu()">
      <b-square-button menu-trigger
                       [type]="buttonType.tertiary"
                       [color]="iconColor.normal"
                       [size]="buttonSize.medium"
                       [icon]="icons.three_dots_vert">
      </b-square-button>
    </b-menu>

    <b-square-button class="card-action"
                     *ngIf="!(comment?.menuConfig?.length > 0) && comment.actionConfig"
                     [type]="buttonType.tertiary"
                     [size]="buttonSize.medium"
                     [icon]="comment.actionConfig.icon"
                     [color]="iconColor.normal"
                     [matTooltip]="comment.actionConfig.tooltip"
                     (clicked)="comment.actionConfig.action($event)">
    </b-square-button>
  </div>
  <div class="comment-content">
    <div class="comment-header">
      <span *ngIf="comment?.name"
            class="b-bold-body name">{{comment?.name}}</span>
      <span class="b-caption date">{{comment?.date}}</span>
    </div>
    <div *ngIf="comment?.content"
         class="comment-body"
         #commentContent></div>
  </div>
</div>
